<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css" />
    <title>Stone Paper Scissors</title>
    <link href="https://fonts.googleapis.com/css?family=Varela+Round&display=swap" rel="stylesheet">
    <link rel ="icon" href="https://www.kindpng.com/picc/m/212-2122689_rock-paper-scissors-random-rock-paper-scissors-png.png" type="image/png">
</head>
<body>
    <div class="container">

        <div id="banner-green" style=" margin-top: 20px;">ROCK - PAPER - SCISSORS</div>
        <div id="play"></div>

        <div class="message" style="
    font-size: larger;
    font-weight: bold; margin-top:69px;">CHOOSE AN OPTION</div>
        <div class="images">
            <div class="computer">
            <img src="./stoneComputer.png" />  
            <!-- style =" height: 20px "/> -->
        </div>
            <div class="player">
                <img src="./stonePlayer.png"/>
                </div>
            </div>
            <div class="points" >
                COMPUTER <span class="computerPoints">0</span> /
                <span class="playerPoints">0</span> PLAYER
            </div>
            <div class="options" style="
    margin-top: 50px;
">
                <button type="button" style ="font-family: Varela Round, sans-serif; font-weight: bold">STONE</button> 
                <button type="button" style ="font-family: Varela Round, sans-serif ; font-weight: bold">PAPER</button>
                <button type="button" style ="font-family: Varela Round, sans-serif ; font-weight: bold">SCISSORS</button>
            </div>
    </div>
    <div id="results">
        <div id="you-won" style= 'margin-left: 69px;'>
            <div id="banner-blue">
                 Congratulations!!!
            </div>
            <img src="http://louvang.com/assets/img/youWon.png" alt="You Won"><br>
        </div>
        <div id="you-lost" style= 'margin-left: 69px;'>
            <div id="banner-blue">
                 Sorry:)
            </div>
            <img src="http://louvang.com/assets/img/youLost.png" alt="You Lost"><br>
        </div>
    </div> 
       <script>
        const computer = document.querySelector(".computer img");
        const player = document.querySelector(".player img");
        const computerPoints = document.querySelector(".computerPoints");
        const playerPoints = document.querySelector(".playerPoints");
        const options = document.querySelectorAll(".options button");

        options.forEach((option) => {
            option.addEventListener("click",() => {
                computer.classList.add("shakeComputer");
                player.classList.add("shakePlayer");
                let cPoints,pPoints;

                setTimeout(() => {
                    computer.classList.remove("shakeComputer");
                    player.classList.remove("shakePlayer");

                    player.src = "./" + option.innerHTML + "Player.png";

                    const choice = ["STONE","PAPER","SCISSORS"];
                    let arrayNo = Math.floor(Math.random()*3);
                    let computerChoice = choice[arrayNo];
                    computer.src = "./" + computerChoice + "Computer.png";

                    cPoints = parseInt(computerPoints.innerHTML);
                    pPoints = parseInt(playerPoints.innerHTML);


                    if (option.innerHTML === "STONE") {
                     if (computerChoice === "PAPER")

                      computerPoints.innerHTML = ++cPoints;
                    else if (computerChoice === "SCISSORS")

                      playerPoints.innerHTML = ++pPoints;
                    } else if (option.innerHTML === "PAPER") {
                    if (computerChoice === "SCISSORS")

                      computerPoints.innerHTML = ++cPoints;
                     else if (computerChoice === "STONE")

                      playerPoints.innerHTML = ++pPoints;
                    } else {
                    if (computerChoice === "STONE")

                      computerPoints.innerHTML = ++cPoints;
                    else if (computerChoice === "PAPER")

                    playerPoints.innerHTML = ++pPoints;
                         }
                         whowon(pPoints,cPoints);
                }, 900);
            });
        });
        function whowon(pPoints,cPoints)
        {
            console.log(cPoints,pPoints);
            if(pPoints===5)
            {
                const youwon=document.querySelector('#you-won')
                youwon.style.display='block'
                document.querySelector(".container").style.display="none"

            }
             else if(cPoints===5)
            {
                const youlost=document.querySelector('#you-lost')
                youlost.style.display='block'
                document.querySelector(".container").style.display="none"
                
            }
        }
    </script>
</body>
</html>